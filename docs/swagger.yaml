openapi: 3.0.0
info:
  title: Movie Match API
  version: 1.0.0
  description: API de películas con IA integrada

servers:
  - url: http://localhost:3001
    description: Desarrollo local
  - url: https://moviematchapi-brunodiaz.render.com
    description: Producción

paths:
  /directors:
    get:
      summary: Obtener todos los directores
      responses:
        '200':
          description: Lista de directores
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  data:
                    type: array
                  count:
                    type: integer
  /movies:
    get:
      summary: Obtener todas las películas
      description: Retorna lista de películas con filtros opcionales
      parameters:
        # Documenta el parámetro "genre"
        - name: genre
          in: query
          schema:
            type: string
          description: Filtrar por género
        # Documenta el parámetro "minRating"
        - name: minRating
          in: query
          schema:
            type: number
          description: Rating mínimo
      responses:
        '200':
          description: Lista de películas
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  data:
                    type: array
                  count:
                    type: integer

  /movies/{id}:
    get:
      summary: Obtener película por ID
      parameters:
        # Documenta el parámetro de ruta "id"
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Película encontrada
        '404':
          description: Película no encontrada

  /movies/discover:
    get:
      summary: Descubrir películas con IA
      description: Retorna películas enriquecidas con anécdotas y datos curiosos
      responses:
        '200':
          description: Películas con contenido de IA